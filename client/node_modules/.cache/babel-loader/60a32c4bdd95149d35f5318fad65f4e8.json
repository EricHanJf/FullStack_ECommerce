{"ast":null,"code":"var _jsxFileName = \"C:\\\\nodejs_projects\\\\FullStack_ECommerce\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Redirect, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport LinkInClass from \"../components/LinkInClass\";\nimport { ACCESS_LEVEL_GUEST, SERVER_HOST } from \"../config/global_constants\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      axios.post(\"\".concat(SERVER_HOST, \"/users/login/\").concat(this.state.email, \"/\").concat(this.state.password)).then(res => {\n        sessionStorage.name = \"GUEST\";\n        sessionStorage.accessLevel = ACCESS_LEVEL_GUEST;\n\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else // user successfully logged in\n            {\n              console.log(\"User logged in\");\n              sessionStorage.name = res.data.name;\n              sessionStorage.accessLevel = res.data.accessLevel;\n              this.setState({\n                isLoggedIn: true\n              });\n            }\n        } else {\n          console.log(\"Login failed\");\n        }\n      });\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      isLoggedIn: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"outside-form-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-container\",\n      noValidate: true,\n      id: \"loginOrRegistrationForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"loginHeaderContainer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"p\", {\n      className: \"loginHeaderLink\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"|\"), React.createElement(Link, {\n      className: \"anotherLoginHeader\",\n      to: \"/Register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Sign Up\")), this.state.isLoggedIn ? React.createElement(Redirect, {\n      to: \"/DisplayAllCars\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }) : null, React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Email\",\n      autoComplete: \"email\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      autoComplete: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(LinkInClass, {\n      value: \"Login\",\n      className: \"green-button\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(Link, {\n      className: \"red-button\",\n      to: \"/DisplayAllCars\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Cancel\"))));\n  }\n\n}","map":{"version":3,"sources":["C:\\nodejs_projects\\FullStack_ECommerce\\client\\src\\components\\Login.js"],"names":["React","Component","Redirect","Link","axios","LinkInClass","ACCESS_LEVEL_GUEST","SERVER_HOST","Login","constructor","props","handleChange","e","setState","target","name","value","handleSubmit","post","state","email","password","then","res","sessionStorage","accessLevel","data","errorMessage","console","log","isLoggedIn","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport { Redirect, Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\nimport { ACCESS_LEVEL_GUEST, SERVER_HOST } from \"../config/global_constants\"\r\n\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            isLoggedIn: false\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        axios.post(`${SERVER_HOST}/users/login/${this.state.email}/${this.state.password}`)\r\n            .then(res => {\r\n                sessionStorage.name = \"GUEST\"\r\n                sessionStorage.accessLevel = ACCESS_LEVEL_GUEST\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else // user successfully logged in\r\n                    {\r\n                        console.log(\"User logged in\")\r\n\r\n                        sessionStorage.name = res.data.name\r\n                        sessionStorage.accessLevel = res.data.accessLevel\r\n\r\n                        this.setState({ isLoggedIn: true })\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"Login failed\")\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"outside-form-container\">\r\n                <form className=\"form-container\" noValidate={true} id=\"loginOrRegistrationForm\">\r\n                    <div className=\"loginHeaderContainer\">\r\n                        <h2>Login</h2>\r\n                        <p className=\"loginHeaderLink\">|</p>\r\n                        <Link className=\"anotherLoginHeader\" to={\"/Register\"}>Sign Up</Link>\r\n                    </div>\r\n                    {this.state.isLoggedIn ? <Redirect to=\"/DisplayAllCars\" /> : null}\r\n\r\n                    <input\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"Email\"\r\n                        autoComplete=\"email\"\r\n                        value={this.state.email}\r\n                        onChange={this.handleChange}\r\n                    /><br />\r\n\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\"Password\"\r\n                        autoComplete=\"password\"\r\n                        value={this.state.password}\r\n                        onChange={this.handleChange}\r\n                    /><br /><br />\r\n                    <span>\r\n                        <LinkInClass value=\"Login\" className=\"green-button\" onClick={this.handleSubmit} />\r\n                        <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link>\r\n                    </span>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}